[gd_scene load_steps=6 format=3]

[ext_resource type="Script" path="res://levels/InvincibilityTest.gd" id="1_script"]
[ext_resource type="PackedScene" uid="uid://ca03v34a42d3i" path="res://actors/Player.tscn" id="2_player"]
[ext_resource type="PackedScene" path="res://actors/PatrolEnemy.tscn" id="3_enemy"]
[ext_resource type="PackedScene" path="res://actors/DangerousSpike.tscn" id="4_spike"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_1"]
size = Vector2(1200, 32)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_2"]
size = Vector2(100, 16)

[node name="InvincibilityTest" type="Node2D"]
script = ExtResource("1_script")

[node name="Player" parent="." instance=ExtResource("2_player")]
position = Vector2(200, 300)

[node name="Ground" type="StaticBody2D" parent="."]
position = Vector2(600, 500)

[node name="GroundSprite" type="ColorRect" parent="Ground"]
offset_left = -600.0
offset_top = -16.0
offset_right = 600.0
offset_bottom = 16.0
color = Color(0.5, 0.3, 0.1, 1)

[node name="GroundCollision" type="CollisionShape2D" parent="Ground"]
shape = SubResource("RectangleShape2D_1")

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(600, 300)
zoom = Vector2(0.8, 0.8)

[node name="PatrolEnemy" parent="." instance=ExtResource("3_enemy")]
position = Vector2(400, 450)

[node name="PatrolEnemy2" parent="." instance=ExtResource("3_enemy")]
position = Vector2(600, 450)

[node name="DangerousSpike" parent="." instance=ExtResource("4_spike")]
position = Vector2(800, 484)

[node name="DangerousSpike2" parent="." instance=ExtResource("4_spike")]
position = Vector2(850, 484)

[node name="Platform1" type="StaticBody2D" parent="."]
position = Vector2(300, 400)

[node name="PlatformSprite1" type="ColorRect" parent="Platform1"]
offset_left = -50.0
offset_top = -8.0
offset_right = 50.0
offset_bottom = 8.0
color = Color(0.4, 0.4, 0.4, 1)

[node name="PlatformCollision1" type="CollisionShape2D" parent="Platform1"]
shape = SubResource("RectangleShape2D_2")

[node name="Platform2" type="StaticBody2D" parent="."]
position = Vector2(500, 350)

[node name="PlatformSprite2" type="ColorRect" parent="Platform2"]
offset_left = -50.0
offset_top = -8.0
offset_right = 50.0
offset_bottom = 8.0
color = Color(0.4, 0.4, 0.4, 1)

[node name="PlatformCollision2" type="CollisionShape2D" parent="Platform2"]
shape = SubResource("RectangleShape2D_2")

[node name="PatrolEnemy3" parent="." instance=ExtResource("3_enemy")]
position = Vector2(300, 350)

[node name="PatrolEnemy4" parent="." instance=ExtResource("3_enemy")]
position = Vector2(500, 300)

[node name="Instructions" type="Label" parent="."]
offset_left = 50.0
offset_top = 50.0
offset_right = 650.0
offset_bottom = 180.0
text = "COMBAT SYSTEM TEST
• Jump on enemies to stomp them (gain points + bounce)
• Walk into enemies from side to test invincibility
• Player blinks for 3 seconds after damage
• Press SPACE to manually trigger damage

CONTROLS: Arrow keys to move, Space to jump"