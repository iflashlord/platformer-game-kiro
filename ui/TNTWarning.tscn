[gd_scene load_steps=2 format=3 uid="uid://dlvblv7ykbev4"]

[sub_resource type="GDScript" id="GDScript_3krxy"]
script/source = "extends Control
class_name TNTWarning

@onready var warning_icon: ColorRect = $WarningIcon
@onready var timer: Timer = $Timer

func _ready():
	modulate.a = 0.0
	timer.timeout.connect(_fade_out)

func show_warning(duration: float = 2.0):
	timer.wait_time = duration
	timer.start()
	
	# Fade in
	var tween = create_tween()
	tween.tween_property(self, \"modulate:a\", 1.0, 0.2)
	
	# Pulsing effect
	var pulse_tween = create_tween()
	pulse_tween.set_loops()
	pulse_tween.tween_property(warning_icon, \"modulate\", Color.RED, 0.3)
	pulse_tween.tween_property(warning_icon, \"modulate\", Color.YELLOW, 0.3)

func _fade_out():
	var tween = create_tween()
	tween.tween_property(self, \"modulate:a\", 0.0, 0.5)
	await tween.finished
	queue_free()
"

[node name="TNTWarning" type="Control"]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0
script = SubResource("GDScript_3krxy")

[node name="WarningIcon" type="ColorRect" parent="."]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(1, 1, 0, 0.8)

[node name="ExclamationMark" type="Label" parent="WarningIcon"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
text = "!"
horizontal_alignment = 1
vertical_alignment = 1

[node name="Timer" type="Timer" parent="."]
wait_time = 2.0
one_shot = true
